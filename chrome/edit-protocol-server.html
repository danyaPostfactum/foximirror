<!DOCTYPE html>

<html lang="en">
<head>
	<base href="chrome://shadia/content/ace++/"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Editor</title>
	<script src='../utils/fileUtils.js'></script>

    <style type="text/css" media="screen" charset="utf-8">
		#content{
			width:100%;
			height:80%;
		}
		body, html{
			width:100%;
			height:100%;
		
		}
	</style>
</head>
<body>
    <div id="log">
        Components.utils.import('resource://shadia/main.js', window).addDevelopmentUtils(window)
    </div>
	<input type='file'>

	
	<iframe id='content'></iframe>
    <script type="text/javascript" >
		Components.utils.import('resource://shadia/main.js', window).addDevelopmentUtils(window)
		$=function(x)document.getElementById(x)
		content = $('content').contentWindow
		content.location = 'edit:edit:~'
		
		pickFile = function(){
			var fp = Cc["@mozilla.org/filepicker;1"].createInstance(Ci.nsIFilePicker)
			fp.init(window, "get root", Ci.nsIFilePicker.modeGetFolder);			

			var result = fp.show();
			if(result == Ci.nsIFilePicker.returnOK){
				return fp
			}
		}
		setupServer = function(){
			var fp = pickFile()
			if(!fp)
				return
			$shadia.editGlue.servers[1] = fp.fileURL.spec.slice(0,-1)
		}
    </script>
</body>
</html>